<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vedant Jumle - AI Researcher</title>
  <meta name="description" content="Vedant Jumle's personal site - AI researcher specializing in deep learning, reinforcement learning, and probabilistic models.">
  <meta property="og:title" content="Vedant Jumle - AI Researcher">
  <meta property="og:description" content="Vedant Jumle's personal site - AI researcher specializing in deep learning, reinforcement learning, and probabilistic models.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://vedantjumle.com/">
  <meta property="og:image" content="https://vedantjumle.com/og-image.png">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Vedant Jumle - AI Researcher">
  <meta name="twitter:description" content="Vedant Jumle's personal site - AI researcher specializing in deep learning, reinforcement learning, and probabilistic models.">
  <meta name="twitter:image" content="https://vedantjumle.com/og-image.png">
  <script defer data-domain="vedantjumle.com" src="https://plausible.io/js/plausible.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;500&display=swap" rel="stylesheet">
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      --bg-left:  #0c0c0f;
      --bg-right: #0e0e13;
      --text:     #b8ffd8;
      --dim:      rgba(184,255,216,0.32);
      --prompt:   #00ff9f;
      --ok:       #00ff9f;
      --c-id:     #00ffff;
      --c-proj:   #bf00ff;
      --c-res:    #ff2d78;
      --c-blog:   #00ff9f;
      --divider:  rgba(255,255,255,0.055);
      --font:     'Fira Code', monospace;
    }

    html, body { height: 100%; overflow: hidden; font-family: var(--font); font-size: 14px; line-height: 1.6; background: var(--bg-left); color: var(--text); }

    /* scanlines */
    body::before {
      content: ''; position: fixed; inset: 0; pointer-events: none; z-index: 9999;
      background: repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0,0,0,0.07) 2px, rgba(0,0,0,0.07) 4px);
    }

    /* ── App shell ── */
    #app { display: flex; height: 100vh; overflow: hidden; }

    /* ── LEFT pane ── */
    #left {
      width: 380px;
      flex-shrink: 0;
      display: flex;
      flex-direction: column;
      border-right: 1px solid var(--divider);
      overflow: hidden;
    }

    #left-scroll {
      flex: 1;
      overflow-y: auto;
      padding: 28px 22px 0;
    }
    #left-scroll::-webkit-scrollbar { width: 3px; }
    #left-scroll::-webkit-scrollbar-thumb { background: rgba(0,255,159,0.15); border-radius: 2px; }

    #input-wrap {
      flex-shrink: 0;
      padding: 6px 22px 20px;
      opacity: 0;
    }
    #input-line { display: flex; align-items: center; }
    .prompt { color: var(--prompt); margin-right: 8px; white-space: nowrap; user-select: none; font-size: 13px; }
    #command-input {
      background: none; border: none; outline: none;
      color: rgba(255,255,255,0.9); font: inherit; font-size: 13px;
      flex: 1; caret-color: var(--prompt);
    }

    /* ── Terminal lines ── */
    .line { white-space: pre-wrap; word-break: break-word; min-height: 1.5em; font-size: 13px; }
    .line.dim    { color: var(--dim); }
    .line.bright { color: rgba(255,255,255,0.82); }
    .line.cmd-echo { color: rgba(255,255,255,0.28); margin-top: 4px; }
    .line.status  { color: var(--dim); font-style: italic; }
    .ok  { color: var(--ok); }
    .sep { color: rgba(255,255,255,0.1); }

    #banner {
      font-family: var(--font); font-size: 12px; line-height: 1.15;
      color: var(--c-id); white-space: pre; margin: 2px 0;
      text-shadow: 0 0 14px rgba(0,255,255,0.5);
    }

    /* ── RIGHT pane ── */
    #right {
      flex: 1;
      overflow-y: auto;
      background: var(--bg-right);
      display: flex;
      justify-content: center;
      align-items: flex-start;
      padding: 48px 44px;
    }
    #right::-webkit-scrollbar { width: 3px; }
    #right::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.08); border-radius: 2px; }

    #viewport { width: 100%; max-width: 580px; }

    /* hint shown before first command */
    #vp-hint {
      position: absolute;
      top: 50%;
      left: calc(380px + (100vw - 380px) / 2);
      transform: translate(-50%, -50%);
      color: rgba(255,255,255,0.1);
      font-size: 12px;
      letter-spacing: 0.1em;
      pointer-events: none;
      white-space: nowrap;
    }

    /* ── Viewport cards ── */
    .vp-card {
      border-radius: 4px;
      padding: 24px 28px;
      opacity: 0;
    }
    .vp-card.c-id   { border: 1px solid rgba(0,255,255,0.25);  box-shadow: 0 0 40px rgba(0,255,255,0.06);  }
    .vp-card.c-proj { border: 1px solid rgba(191,0,255,0.3);   box-shadow: 0 0 40px rgba(191,0,255,0.07); }
    .vp-card.c-res  { border: 1px solid rgba(255,45,120,0.3);  box-shadow: 0 0 40px rgba(255,45,120,0.07);}
    .vp-card.c-blog { border: 1px solid rgba(0,255,159,0.25);  box-shadow: 0 0 40px rgba(0,255,159,0.06); }

    .vp-title {
      font-size: 20px; font-weight: 500;
      color: rgba(255,255,255,0.93);
      letter-spacing: 0.02em;
      margin-bottom: 6px;
    }
    .vp-subtitle { font-size: 12px; color: var(--dim); margin-bottom: 16px; }
    .vp-divider  { height: 1px; background: rgba(255,255,255,0.07); margin-bottom: 16px; }
    .vp-desc     { color: rgba(255,255,255,0.58); line-height: 1.65; margin-bottom: 18px; font-size: 13.5px; }

    /* stack pills */
    .vp-pills { display: flex; flex-wrap: wrap; gap: 6px; margin-bottom: 20px; }
    .pill {
      font-size: 11px; padding: 3px 10px; border-radius: 20px;
      border: 1px solid rgba(255,255,255,0.12);
      color: rgba(255,255,255,0.5);
      letter-spacing: 0.04em;
    }

    /* meta rows */
    .vp-meta { display: flex; gap: 12px; margin-bottom: 8px; font-size: 13px; }
    .meta-k { color: rgba(255,255,255,0.25); min-width: 72px; }
    .meta-v { color: rgba(255,255,255,0.65); }
    .meta-v a { color: inherit; text-decoration: none; }
    .meta-v a:hover { text-decoration: underline; }

    /* action links */
    .vp-links { display: flex; gap: 16px; margin-top: 18px; }
    .vp-link {
      font-size: 12px; color: rgba(255,255,255,0.38);
      text-decoration: none; border-bottom: 1px solid rgba(255,255,255,0.12);
      padding-bottom: 1px; transition: color 0.15s, border-color 0.15s;
    }
    .vp-link:hover { color: rgba(255,255,255,0.82); border-color: rgba(255,255,255,0.4); }

    /* about card */
    .vp-about-top {
      display: flex; flex-direction: column; align-items: center;
      text-align: center; margin-bottom: 22px;
    }
    .vp-photo {
      width: 88px; height: 88px; border-radius: 50%; object-fit: cover;
      border: 2px solid var(--c-id);
      box-shadow: 0 0 20px rgba(0,255,255,0.25);
      margin-bottom: 14px;
    }
    .vp-name { font-size: 22px; font-weight: 500; color: rgba(255,255,255,0.93); margin-bottom: 4px; }
    .vp-role { font-size: 12px; color: var(--dim); letter-spacing: 0.06em; margin-bottom: 14px; }
    .vp-tags { display: flex; flex-wrap: wrap; justify-content: center; gap: 6px; }

    /* ls list */
    .vp-list-header {
      font-size: 11px; letter-spacing: 0.1em; color: rgba(255,255,255,0.2);
      text-transform: uppercase; margin-bottom: 10px;
    }
    .vp-list-item {
      display: flex; justify-content: space-between; align-items: baseline;
      padding: 8px 0; border-bottom: 1px solid rgba(255,255,255,0.04);
      opacity: 0; cursor: pointer;
    }
    .vp-list-item:hover .vp-slug { opacity: 1; }
    .vp-slug { font-size: 13px; font-weight: 500; }
    .vp-ititle { font-size: 12px; color: rgba(255,255,255,0.28); max-width: 60%; text-align: right; }

    /* help table */
    .vp-help-row {
      display: flex; gap: 16px; padding: 7px 0;
      border-bottom: 1px solid rgba(255,255,255,0.04);
      opacity: 0;
    }
    .help-c { color: var(--prompt); min-width: 170px; font-size: 13px; }
    .help-d { color: rgba(255,255,255,0.38); font-size: 13px; }

    /* ── Light theme ── */
    body.light {
      --bg-left: #f0f0ec; --bg-right: #f7f7f3;
      --text: #1a301a; --dim: rgba(20,60,20,0.5);
      --prompt: #006633; --ok: #006633;
      --divider: rgba(0,0,0,0.08);
    }
    body.light .vp-card.c-id   { border-color: rgba(0,136,170,0.4); }
    body.light .vp-card.c-proj { border-color: rgba(119,0,187,0.4); }
    body.light .vp-card.c-res  { border-color: rgba(204,0,68,0.4);  }
    body.light .vp-card.c-blog { border-color: rgba(0,102,51,0.4);  }
    body.light .pill { border-color: rgba(0,0,0,0.15); color: rgba(0,0,0,0.5); }

    /* ── Mobile ── */
    @media (max-width: 700px) {
      #app { flex-direction: column; }
      #left { width: 100%; height: 45vh; border-right: none; border-bottom: 1px solid var(--divider); }
      #right { padding: 24px 18px; }
      #vp-hint { left: 50%; top: calc(45vh + 30%); }
    }
  </style>
</head>
<body>

<noscript>
  <div style="padding:20px;font-family:monospace;color:#0f0;background:#000">
    <h1>Vedant Jumle — AI Researcher</h1>
    <p>Deep learning · Reinforcement learning · Probabilistic models</p>
    <ul style="list-style:none;padding:0;margin-top:12px">
      <li><a href="https://github.com/vedant-jumle" style="color:#0f0">GitHub ↗</a></li>
      <li><a href="https://www.linkedin.com/in/vedantjumle" style="color:#0f0">LinkedIn ↗</a></li>
      <li><a href="mailto:vedantjumle@gmail.com" style="color:#0f0">Email ↗</a></li>
    </ul>
  </div>
</noscript>

<div id="app">
  <!-- LEFT: terminal -->
  <div id="left">
    <div id="left-scroll">
      <div id="output"></div>
    </div>
    <div id="input-wrap">
      <div id="input-line">
        <span class="prompt">vedantjumle@darkmatter:~$&nbsp;</span>
        <input type="text" id="command-input" autocomplete="off" spellcheck="false" aria-label="Command input">
      </div>
    </div>
  </div>

  <!-- RIGHT: viewport -->
  <div id="right">
    <div id="viewport"></div>
  </div>
  <div id="vp-hint">type a command to explore</div>
</div>

<script src="content.js"></script>
<script>
(function () {
  const output   = document.getElementById('output');
  const leftScrl = document.getElementById('left-scroll');
  const inputWrap= document.getElementById('input-wrap');
  const cmdIn    = document.getElementById('command-input');
  const viewport = document.getElementById('viewport');
  const vpHint   = document.getElementById('vp-hint');

  // ── Helpers ────────────────────────────────────────────────────────────────
  function esc(s) {
    return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');
  }
  function scrollLeft() { leftScrl.scrollTop = leftScrl.scrollHeight; }

  function addLine(html, cls) {
    const d = document.createElement('div');
    d.className = 'line' + (cls ? ' ' + cls : '');
    d.innerHTML = html;
    output.appendChild(d);
    scrollLeft();
    return d;
  }
  function animLine(el) {
    anime({ targets: el, opacity: [0,1], translateX: [-5,0], duration: 160, easing: 'easeOutCubic' });
  }
  function printLine(html, cls) { const el = addLine(html, cls); animLine(el); return el; }

  // ── Viewport renderer ──────────────────────────────────────────────────────
  let vpAnimating = false;

  function renderViewport(buildFn) {
    vpHint.style.display = 'none';
    const current = viewport.firstChild;

    function insert() {
      viewport.innerHTML = '';
      const el = buildFn();
      if (!el) return;
      viewport.appendChild(el);
      // scroll right pane to top
      document.getElementById('right').scrollTop = 0;
      anime({ targets: el, opacity: [0,1], translateY: [14,0], duration: 340, easing: 'easeOutCubic' });
    }

    if (current && parseFloat(getComputedStyle(current).opacity) > 0) {
      anime({
        targets: current, opacity: [1,0], translateX: [0,-10],
        duration: 140, easing: 'easeInCubic',
        complete: insert
      });
    } else {
      insert();
    }
  }

  // ── Card builders ──────────────────────────────────────────────────────────
  function makeAboutCard() {
    const c = content.contact;
    const el = document.createElement('div');
    el.className = 'vp-card c-id';
    el.innerHTML = `
      <div class="vp-about-top">
        <img class="vp-photo" src="./photo.jpg" alt="Vedant Jumle" onerror="this.style.display='none'">
        <div class="vp-name">Vedant Jumle</div>
        <div class="vp-role">AI RESEARCHER</div>
        <div class="vp-tags">
          <span class="pill">deep learning</span>
          <span class="pill">reinforcement learning</span>
          <span class="pill">probabilistic models</span>
        </div>
      </div>
      <div class="vp-divider"></div>
      <div class="vp-desc">${esc(content.about)}</div>
      <div class="vp-links">
        <a class="vp-link" href="${c.github}"   target="_blank" rel="noopener">github ↗</a>
        <a class="vp-link" href="${c.linkedin}" target="_blank" rel="noopener">linkedin ↗</a>
        <a class="vp-link" href="mailto:${c.email}">email ↗</a>
      </div>`;
    return el;
  }

  function makeProjectCard(proj) {
    const el = document.createElement('div');
    el.className = 'vp-card c-proj';
    const pills = proj.stack.map(s => `<span class="pill">${esc(s)}</span>`).join('');
    const ext = proj.demo && proj.demo !== proj.repo ? proj.demo : proj.repo;
    el.innerHTML = `
      <div style="display:flex;justify-content:space-between;align-items:baseline;margin-bottom:6px">
        <div class="vp-title">${esc(proj.title)}</div>
        ${ext ? `<a class="vp-link" href="${ext}" target="_blank" rel="noopener" style="flex-shrink:0;margin-left:12px">↗ open</a>` : ''}
      </div>
      <div class="vp-subtitle">${esc(proj.slug)}</div>
      <div class="vp-divider"></div>
      <div class="vp-desc">${esc(proj.desc)}</div>
      <div class="vp-pills">${pills}</div>
      <div class="vp-links">
        ${proj.repo ? `<a class="vp-link" href="${proj.repo}" target="_blank" rel="noopener">repo ↗</a>` : ''}
        ${proj.demo && proj.demo !== proj.repo ? `<a class="vp-link" href="${proj.demo}" target="_blank" rel="noopener">demo ↗</a>` : ''}
      </div>`;
    return el;
  }

  function makeResearchCard(paper) {
    const el = document.createElement('div');
    el.className = 'vp-card c-res';
    el.innerHTML = `
      <div style="display:flex;justify-content:space-between;align-items:baseline;margin-bottom:6px">
        <div class="vp-title">${esc(paper.title)}</div>
        <a class="vp-link" href="${paper.link}" target="_blank" rel="noopener" style="flex-shrink:0;margin-left:12px">↗ view</a>
      </div>
      <div class="vp-subtitle">${esc(paper.slug)}</div>
      <div class="vp-divider"></div>
      <div class="vp-desc">${esc(paper.desc)}</div>
      <div class="vp-links">
        <a class="vp-link" href="${paper.link}" target="_blank" rel="noopener">view paper ↗</a>
      </div>`;
    return el;
  }

  function makeBlogCard(post) {
    const el = document.createElement('div');
    el.className = 'vp-card c-blog';
    el.innerHTML = `
      <div style="display:flex;justify-content:space-between;align-items:baseline;margin-bottom:6px">
        <div class="vp-title">${esc(post.title)}</div>
        <a class="vp-link" href="${post.link}" target="_blank" rel="noopener" style="flex-shrink:0;margin-left:12px">↗ read</a>
      </div>
      <div class="vp-subtitle">${esc(post.slug)}</div>
      <div class="vp-divider"></div>
      <div class="vp-links">
        <a class="vp-link" href="${post.link}" target="_blank" rel="noopener">read article ↗</a>
      </div>`;
    return el;
  }

  function makeCVCard() {
    const el = document.createElement('div');
    el.className = 'vp-card c-id';
    el.innerHTML = `
      <div class="vp-title">Curriculum Vitae</div>
      <div class="vp-divider" style="margin-top:8px"></div>
      <div class="vp-desc">Vedant Jumle — AI researcher. Download or view the full CV.</div>
      <div class="vp-links">
        <a class="vp-link" href="${content.cv.link}" target="_blank" rel="noopener">${esc(content.cv.description)} ↗</a>
      </div>`;
    return el;
  }

  function makeContactCard() {
    const c = content.contact;
    const el = document.createElement('div');
    el.className = 'vp-card c-id';
    el.innerHTML = `
      <div class="vp-title">Contact</div>
      <div class="vp-divider" style="margin-top:8px"></div>
      <div class="vp-meta"><span class="meta-k">email</span><span class="meta-v"><a href="mailto:${c.email}">${esc(c.email)}</a></span></div>
      <div class="vp-meta"><span class="meta-k">github</span><span class="meta-v"><a href="${c.github}" target="_blank" rel="noopener">${esc(c.github)}</a></span></div>
      <div class="vp-meta"><span class="meta-k">linkedin</span><span class="meta-v"><a href="${c.linkedin}" target="_blank" rel="noopener">${esc(c.linkedin)}</a></span></div>`;
    return el;
  }

  function makeListCard(section, items) {
    const colorMap = { projects:'var(--c-proj)', research:'var(--c-res)', blog:'var(--c-blog)',
                       about:'var(--c-id)', cv:'var(--c-id)', contact:'var(--c-id)' };
    const el = document.createElement('div');
    el.style.width = '100%';

    const header = document.createElement('div');
    header.className = 'vp-list-header';
    header.textContent = section + (items.length ? `  (${items.length})` : '');
    el.appendChild(header);

    const div = document.createElement('div');
    div.style.cssText = 'height:1px;background:rgba(255,255,255,0.07);margin-bottom:8px';
    el.appendChild(div);

    items.forEach(item => {
      const row = document.createElement('div');
      row.className = 'vp-list-item';
      const color = colorMap[section] || 'var(--text)';
      row.innerHTML = `<span class="vp-slug" style="color:${color}">${esc(item.slug||item)}</span><span class="vp-ititle">${esc(item.title||'')}</span>`;
      row.addEventListener('click', () => {
        const cmd = 'open ' + (item.slug||item);
        addLine(`<span style="color:var(--prompt)">vedantjumle@darkmatter:~$&nbsp;</span>${esc(cmd)}`, 'cmd-echo');
        handleCommand(cmd);
      });
      el.appendChild(row);
    });

    // stagger items in
    setTimeout(() => {
      const rows = el.querySelectorAll('.vp-list-item');
      anime({ targets: rows, opacity: [0,1], translateX: [-8,0],
              duration: 220, delay: anime.stagger(35), easing: 'easeOutCubic' });
    }, 50);

    return el;
  }

  function makeSectionsCard() {
    const colorMap = { about:'var(--c-id)', cv:'var(--c-id)', projects:'var(--c-proj)',
                       research:'var(--c-res)', blog:'var(--c-blog)', contact:'var(--c-id)' };
    const el = document.createElement('div');
    el.style.width = '100%';

    const header = document.createElement('div');
    header.className = 'vp-list-header';
    header.textContent = 'sections';
    el.appendChild(header);

    const div = document.createElement('div');
    div.style.cssText = 'height:1px;background:rgba(255,255,255,0.07);margin-bottom:8px';
    el.appendChild(div);

    content.sections.forEach(s => {
      const row = document.createElement('div');
      row.className = 'vp-list-item';
      row.innerHTML = `<span class="vp-slug" style="color:${colorMap[s]||'var(--text)'}">${esc(s)}</span><span class="vp-ititle"></span>`;
      row.addEventListener('click', () => {
        const cmd = 'open ' + s;
        addLine(`<span style="color:var(--prompt)">vedantjumle@darkmatter:~$&nbsp;</span>${esc(cmd)}`, 'cmd-echo');
        handleCommand(cmd);
      });
      el.appendChild(row);
    });

    setTimeout(() => {
      const rows = el.querySelectorAll('.vp-list-item');
      anime({ targets: rows, opacity: [0,1], translateX: [-8,0],
              duration: 220, delay: anime.stagger(35), easing: 'easeOutCubic' });
    }, 50);
    return el;
  }

  function makeHelpCard() {
    const rows = [
      ['help',            'list available commands'],
      ['ls [section]',    'list sections or items'],
      ['open &lt;slug&gt;','open a section or item'],
      ['clear',           'clear terminal + viewport'],
      ['feedback',        'send feedback via email'],
      ['theme',           'toggle dark / light mode'],
    ];
    const el = document.createElement('div');
    el.style.width = '100%';

    const header = document.createElement('div');
    header.className = 'vp-list-header';
    header.textContent = 'commands';
    el.appendChild(header);
    const div = document.createElement('div');
    div.style.cssText = 'height:1px;background:rgba(255,255,255,0.07);margin-bottom:8px';
    el.appendChild(div);

    rows.forEach(([cmd, desc]) => {
      const row = document.createElement('div');
      row.className = 'vp-help-row';
      row.innerHTML = `<span class="help-c">${cmd}</span><span class="help-d">${desc}</span>`;
      el.appendChild(row);
    });

    setTimeout(() => {
      const helpRows = el.querySelectorAll('.vp-help-row');
      anime({ targets: helpRows, opacity: [0,1], translateX: [-6,0],
              duration: 200, delay: anime.stagger(30), easing: 'easeOutCubic' });
    }, 50);
    return el;
  }

  // ── Command handler ────────────────────────────────────────────────────────
  const CMDS = ['help','ls','open','clear','feedback','theme'];

  function handleCommand(raw) {
    const parts = raw.trim().split(/\s+/);
    const cmd = parts[0];
    const arg = parts.slice(1).join(' ');

    switch (cmd) {
      case 'help':
        renderViewport(makeHelpCard);
        break;

      case 'ls':
        if (!arg) {
          renderViewport(makeSectionsCard);
        } else if (content[arg]) {
          const arr = content[arg];
          if (Array.isArray(arr)) {
            renderViewport(() => makeListCard(arg, arr));
          } else {
            renderViewport(() => makeListCard(arg,
              Object.keys(arr).map(k => ({ slug: k, title: '' }))));
          }
        } else {
          printLine(`ls: no such section: <span style="color:var(--c-res)">${esc(arg)}</span>`, '');
        }
        break;

      case 'open':
        if (!arg) { printLine('open: missing argument', ''); break; }
        if (arg === 'about')   { renderViewport(makeAboutCard);   break; }
        if (arg === 'cv')      { renderViewport(makeCVCard);       break; }
        if (arg === 'contact') { renderViewport(makeContactCard);  break; }
        if (arg === 'projects'){ renderViewport(() => makeListCard('projects', content.projects)); break; }
        if (arg === 'research'){ renderViewport(() => makeListCard('research', content.research)); break; }
        if (arg === 'blog')    { renderViewport(() => makeListCard('blog', content.blog)); break; }
        {
          const proj  = content.projects.find(p => p.slug === arg);
          if (proj)  { renderViewport(() => makeProjectCard(proj));   break; }
          const paper = content.research.find(r => r.slug === arg);
          if (paper) { renderViewport(() => makeResearchCard(paper)); break; }
          const post  = content.blog.find(b => b.slug === arg);
          if (post)  { renderViewport(() => makeBlogCard(post));      break; }
          printLine(`open: <span style="color:var(--c-res)">${esc(arg)}</span> not found — try <span style="color:var(--prompt)">ls</span>`, '');
        }
        break;

      case 'clear':
        output.innerHTML = '';
        viewport.innerHTML = '';
        vpHint.style.display = '';
        anime({ targets: vpHint, opacity: [0,1], duration: 400 });
        break;

      case 'feedback':
        printLine(`<a href="mailto:${content.contact.email}?subject=Website%20Feedback" style="color:var(--c-blog)">send feedback ↗</a>`, 'status');
        break;

      case 'theme':
        document.body.classList.toggle('light');
        printLine(document.body.classList.contains('light') ? 'light mode' : 'dark mode', 'status');
        break;

      default:
        printLine(`not found: <span style="color:var(--c-res)">${esc(cmd)}</span> — try <span style="color:var(--prompt)">help</span>`, '');
    }
  }

  // ── Input ──────────────────────────────────────────────────────────────────
  let history = [], histIdx = 0;
  let bootDone = false;

  cmdIn.addEventListener('keydown', function (e) {
    if (!bootDone) { skipBoot(); return; }

    if (e.key === 'Tab') {
      e.preventDefault();
      const val = cmdIn.value, parts = val.split(/\s+/);
      if (parts.length === 1) {
        const m = CMDS.filter(c => c.startsWith(parts[0]));
        if (m.length === 1) cmdIn.value = m[0] + ' ';
        else if (m.length > 1) printLine(m.join('  '), 'dim');
      } else {
        let cands = content.sections.slice();
        if (parts[0] === 'open') {
          content.projects.forEach(p => cands.push(p.slug));
          content.research.forEach(r => cands.push(r.slug));
          content.blog.forEach(b => cands.push(b.slug));
        }
        const a = parts[1]||'', m = cands.filter(c => c.startsWith(a));
        if (m.length === 1) cmdIn.value = parts[0] + ' ' + m[0];
        else if (m.length > 1) printLine(m.join('  '), 'dim');
      }
      return;
    }
    if (e.key === 'ArrowUp') {
      e.preventDefault();
      if (histIdx > 0) cmdIn.value = history[--histIdx]; return;
    }
    if (e.key === 'ArrowDown') {
      e.preventDefault();
      cmdIn.value = histIdx < history.length-1 ? history[++histIdx] : (histIdx=history.length,''); return;
    }
    if (e.key === 'Enter') {
      const cmd = cmdIn.value.trim(); cmdIn.value = '';
      if (!cmd) return;
      history.push(cmd); histIdx = history.length;
      addLine(`<span style="color:var(--prompt)">vedantjumle@darkmatter:~$&nbsp;</span>${esc(cmd)}`, 'cmd-echo');
      handleCommand(cmd);
    }
  });

  document.addEventListener('click', () => { if (bootDone) cmdIn.focus(); });

  // ── Boot ───────────────────────────────────────────────────────────────────
  const DOTS = n => '.'.repeat(n);
  const BANNER =
`██╗   ██╗     ██╗
╚██╗ ██╔╝     ██║
 ╚████╔╝      ██║
  ╚██╔╝  ██   ██║
   ██║   ╚█████╔╝
   ╚═╝    ╚════╝`;

  const BOOT_LINES = [
    [`BIOS v2.6.1 ${DOTS(33)} <span class="ok">[OK]</span>`,           'dim', 0],
    [`Loading vedant.core ${DOTS(27)} <span class="ok">[OK]</span>`,    'dim', 200],
    [`Mounting /research ${DOTS(28)} <span class="ok">[OK]</span>`,     'dim', 170],
    [`Mounting /projects ${DOTS(28)} <span class="ok">[OK]</span>`,     'dim', 150],
    [`Starting neural.service ${DOTS(22)} <span class="ok">[OK]</span>`,'dim', 190],
    [``, '', 160],
    [`vedantjumle login: <span style="color:rgba(255,255,255,0.75)">vedant</span>`, 'bright', 100],
    [`Password: <span style="letter-spacing:.12em;color:var(--dim)">••••••••</span>`, 'dim', 550],
    [``, '', 280],
  ];

  let bootTimers = [];

  function runBoot() {
    let cum = 0;
    BOOT_LINES.forEach(([html, cls, delay]) => {
      cum += delay;
      bootTimers.push(setTimeout(() => { const el = addLine(html, cls); animLine(el); }, cum));
    });

    cum += 100;
    bootTimers.push(setTimeout(() => {
      const b = document.createElement('pre');
      b.id = 'banner'; b.textContent = BANNER;
      output.appendChild(b); scrollLeft();
      anime({ targets: b, opacity: [0,1], duration: 450, easing: 'easeOutCubic' });
      const name = addLine(
        `<span style="font-size:14px;font-weight:500;color:rgba(255,255,255,0.88);letter-spacing:.06em">vedant jumle</span>  <span style="color:var(--dim);font-size:11px">— AI researcher</span>`, '');
      anime({ targets: name, opacity:[0,1], translateX:[-5,0], duration:280, delay:220, easing:'easeOutCubic' });
    }, cum));

    cum += 580;
    bootTimers.push(setTimeout(() => {
      addLine(``, '');
      const h = addLine(`Type <span style="color:var(--prompt)">help</span> for commands.`, 'dim');
      animLine(h);
      const s = addLine(`<span class="sep">${'─'.repeat(44)}</span>`, '');
      animLine(s);
      scrollLeft();
    }, cum));

    cum += 350;
    bootTimers.push(setTimeout(() => {
      bootDone = true;
      anime({ targets: inputWrap, opacity:[0,1], duration:300, easing:'easeOutCubic' });
      setTimeout(() => cmdIn.focus(), 310);
      // Show viewport hint
      anime({ targets: vpHint, opacity:[0,0.6], duration:600, delay:200, easing:'easeOutCubic' });
      handleHash();
    }, cum));
  }

  function skipBoot() {
    if (bootDone) return;
    bootTimers.forEach(clearTimeout); bootTimers = [];
    output.innerHTML = '';
    BOOT_LINES.forEach(([html, cls]) => addLine(html, cls));
    const b = document.createElement('pre');
    b.id = 'banner'; b.textContent = BANNER; output.appendChild(b);
    addLine(`<span style="font-size:14px;font-weight:500;color:rgba(255,255,255,0.88);letter-spacing:.06em">vedant jumle</span>  <span style="color:var(--dim);font-size:11px">— AI researcher</span>`, '');
    addLine(``, '');
    addLine(`Type <span style="color:var(--prompt)">help</span> for commands.`, 'dim');
    addLine(`<span class="sep">${'─'.repeat(44)}</span>`, '');
    bootDone = true;
    inputWrap.style.opacity = '1';
    setTimeout(() => cmdIn.focus(), 50);
    vpHint.style.opacity = '0.5';
    handleHash();
  }

  document.addEventListener('keydown', () => { if (!bootDone) skipBoot(); }, { once: true });

  // ── Hash routing ───────────────────────────────────────────────────────────
  function handleHash() {
    const hash = window.location.hash.slice(1);
    if (!hash) return;
    const slug = hash.split('/').pop();
    if (slug) {
      addLine(`<span style="color:var(--prompt)">vedantjumle@darkmatter:~$&nbsp;</span>open ${esc(slug)}`, 'cmd-echo');
      handleCommand('open ' + slug);
    }
  }
  window.addEventListener('hashchange', handleHash);

  // ── Start ──────────────────────────────────────────────────────────────────
  runBoot();
})();
</script>
</body>
</html>
